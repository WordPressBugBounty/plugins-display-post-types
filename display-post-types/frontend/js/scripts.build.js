(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r(n.key),n)}}function i(t,e,i){return(e=r(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(e){var i=function(e,i){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(i)?i:i+""}const n=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"timeOut",null),i(this,"masonGrid",!1),i(this,"flicKity",!1),this.elem=e,this.styleUpdate(),this.applyLayout(),this.events()},(r=[{key:"events",value:function(){window.addEventListener("resize",this.onResize.bind(this)),this.masonGrid&&window.addEventListener("load",function(){this.masonGrid.setup()}.bind(this))}},{key:"styleUpdate",value:function(){var t=getComputedStyle(this.elem),e=t.paddingLeft,i=t.paddingRight,r=this.elem.clientWidth-(this.getStyleSize(e)+this.getStyleSize(i));this.elem.classList.remove("wide-wrap","tab-wrap","mob-wrap"),r>768?this.elem.classList.add("wide-wrap"):r>640?this.elem.classList.add("tab-wrap"):r>450&&this.elem.classList.add("mob-wrap")}},{key:"getStyleSize",value:function(t){var e=parseFloat(t);return-1!=t.indexOf("%")||isNaN(e)?0:e}},{key:"onResize",value:function(){var t=this;this.timeout=setTimeout((function(){t.styleUpdate(),t.timeout=null}))}},{key:"applyLayout",value:function(){if(this.elem.classList.contains("dpt-mag1")){var t=document.createElement("div"),e=document.createElement("div");t.classList.add("dpt-featured-wrap"),e.classList.add("dpt-normal-wrap"),Array.prototype.slice.call(this.elem.querySelectorAll(".dpt-entry")).forEach((function(i,r){0===r?t.appendChild(i):e.appendChild(i)})),this.elem.appendChild(t),this.elem.appendChild(e)}if(this.addImageAttrs(this.elem),this.elem.classList.contains("dpt-mason-wrap"))this.masonGrid=new brickLayer({container:this.elem,gutter:0,waitForImages:!1,useTransform:!1,callAfter:this.addLoadedClass.bind(this,this.elem)}),this.masonGrid.init();else if(this.elem.classList.contains("dpt-slider")){var i=parseInt(this.elem.getAttribute("data-autotime")),r={cellAlign:"left",contain:!0,wrapAround:!0,prevNextButtons:!0,imagesLoaded:!0,cellSelector:".dpt-entry"};i&&(r.autoPlay=i),this.elem.classList.contains("dpt-pro-slider1")&&(r.adaptiveHeight=!0),this.flicKity=new Flickity(this.elem,r)}if(this.elem.classList.contains("dpt-mag1")&&!this.elem.classList.contains("mob-wrap")){var n=this.elem.querySelector(".dpt-featured-wrap"),a=this.elem.querySelector(".dpt-normal-wrap"),o=n.offsetHeight;a.offsetHeight>o&&(a.style.maxHeight=o+"px",a.style.overflowY="scroll")}}},{key:"addImageAttrs",value:function(t){Array.prototype.slice.call(t.querySelectorAll(".dpt-thumbnail")).forEach((function(t){var e=t.querySelector("img");if(e){var i=e.getAttribute("data-dpt-src"),r=e.getAttribute("data-dpt-srcset");if(i&&r){var n=t.offsetWidth;e.setAttribute("sizes","".concat(n+100,"px")),e.setAttribute("src",i),e.setAttribute("srcset",r)}}}))}},{key:"addLoadedClass",value:function(t){t.classList.add("dpt-loaded")}}])&&e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}new(function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=this;this.elems=Array.prototype.slice.call(document.querySelectorAll(".dpt-wrapper")),this.elems.forEach((function(t){e.createdpt(t)})),document.addEventListener("animationstart",(function(t){if("dptAdded"===t.animationName){var e=t.target;e.classList.contains("dpt-wrapper")&&(e.classList.contains("dpt-added")||i.createdpt(e))}}),!1)},(e=[{key:"createdpt",value:function(t){t.classList.add("dpt-added"),new n(t)}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}())})();