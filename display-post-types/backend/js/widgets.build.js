(()=>{"use strict";const t=window.dptWidgetData||{},e={stylesSupport:t.styleSupport||{},isPremium:t.isPremium||!1,isStyleSupport:function(t,e){const i=this.stylesSupport[t];return void 0!==i&&i.includes(e)}},i=class{constructor(){this.events()}events(){const t=this,e=jQuery("#widgets-right, #elementor-editor-wrapper, #widgets-editor"),i=jQuery(document);e.on("change","select.dpt-post-type",(function(){t.postTypeChange(jQuery(this))})),e.on("change","select.dpt-taxonomy",(function(){t.toggleTerms(jQuery(this))})),e.on("change","select.dpt-styles",(function(){t.styleChange(jQuery(this))})),e.on("change","select.dpt-img-aspect",(function(){t.showCroppos(jQuery(this))})),e.on("change",'input[type="checkbox"].spcheckbox',(function(){t.showElemOptions(jQuery(this))})),i.on("click",".dpt-settings-toggle",(function(t){const e=jQuery(this);t.preventDefault(),e.next(".dpt-settings-content").slideToggle("fast"),e.toggleClass("toggle-active")})),i.on("click",".dpt-tab-index-item",(function(){t.tabFunctionality(jQuery(this))}))}postTypeChange(t){const e=t.val(),i=t.closest(".widget-content"),s=i.find(".dpt-settings-toggle"),n=i.find(".dpt-settings-content"),o=i.find("select.dpt-taxonomy"),d=i.find("select.dpt-filter-custom-field-key"),c=i.find("select.dpt-filter-custom-field-operator"),r=i.find("select.dpt-filter-custom-field-type"),p=i.find("input.dpt-filter-custom-field-value"),a=[".post_ids",".taxonomy",".offset",".orderby",".order"],l=[".pages"];e?(s.show(),"page"===e?(n.find(l.join(",")).show().closest(".dpt-wrapper-container").show(),n.find(a.join(",")).hide().closest(".dpt-settings-content").hide().closest(".dpt-wrapper-container").hide().find(".dpt-settings-toggle").removeClass("toggle-active")):(n.find(l.join(",")).hide().closest(".dpt-settings-content").hide().closest(".dpt-wrapper-container").hide().find(".dpt-settings-toggle").removeClass("toggle-active"),n.find(a.join(",")).show().closest(".dpt-wrapper-container").show(),o.find("option").hide(),o.find(".always-visible, ."+e).show(),o.val("")),n.toggleClass("not-post","post"!==e),n.find(".terms, .relation").hide(),d.find("option").hide(),d.find(".always-visible, ."+e).show(),d.val(""),c.val(""),p.val(""),p.prop("disabled",!1),r.prop("disabled",!1)):(s.hide(),n.hide())}toggleTerms(t){const e=t.closest(".dpt-settings-content"),i=t.val();i?(e.find(".terms, .relation").show(),e.find(".terms").find(".terms-checklist li").hide(),e.find(".terms").find(".terms-checklist ."+i).show()):e.find(".terms, .relation").hide()}styleChange(t){const i=t.val(),s=t.closest(".widget-content");this.saneDefaults(i,s),e.isStyleSupport(i,"multicol")?s.find(".col_narr").show():s.find(".col_narr").hide(),e.isStyleSupport(i,"ialign")?s.find(".img_align").show():s.find(".img_align").hide(),e.isStyleSupport(i,"slider")?s.find(".autotime").show():s.find(".autotime").hide(),e.isStyleSupport(i,"pagination")?s.find(".show_pgnation").show():s.find(".show_pgnation").hide(),e.isStyleSupport(i,"overlay")?(s.find(".text_pos_hor").show(),s.find(".text_pos_ver").show(),s.find(".title_shadow").show(),s.find(".wrapper_width").show(),"content"===s.find("select.dpt-wrapper-type").val()?s.find(".wrapper_height").show():s.find(".wrapper_height").hide()):(s.find(".text_pos_hor").hide(),s.find(".text_pos_ver").hide(),s.find(".title_shadow").hide(),s.find(".wrapper_width").hide(),s.find(".wrapper_height").hide()),s.find(".spcheckbox").each((function(){const t=jQuery(this).val();e.isStyleSupport(i,t)?jQuery(this).closest(".dpt-toggle-container").show():jQuery(this).closest(".dpt-toggle-container").hide()}))}saneDefaults(t,e){const i={"dpt-list1":["thumbnail","title","meta","excerpt"],"dpt-list2":["thumbnail","title","meta"],"dpt-pro-slider2":["thumbnail","title","meta","excerpt"],"dpt-mag1":["thumbnail","title","meta"]},s=e.find(".spcheckbox");void 0!==i[t]?s.each((function(){const e=jQuery(this).val();i[t].includes(e)?jQuery(this).prop("checked",!0).trigger("change"):jQuery(this).prop("checked",!1).trigger("change")})):s.each((function(){const t=jQuery(this).val();["thumbnail","title"].includes(t)?jQuery(this).prop("checked",!0).trigger("change"):jQuery(this).prop("checked",!1).trigger("change")})),["dpt-list1","dpt-list2","dpt-slider1","dpt-mag1"].includes(t)?e.find("select.dpt-img-aspect").val("land1").trigger("change"):["dpt-pro-slider1","dpt-pro-slider3"].includes(t)?e.find("select.dpt-img-aspect").val("wdscrn").trigger("change"):["dpt-pro-slider2"].includes(t)?e.find("select.dpt-img-aspect").val("squr").trigger("change"):e.find("select.dpt-img-aspect").val("").trigger("change")}showCroppos(t){var e=t.val(),i=t.closest(".widget-content");""!==e?("custom"===e?i.find(".custom_aspect").show():i.find(".custom_aspect").hide(),i.find(".image_crop").show()):(i.find(".image_crop").hide(),i.find(".custom_aspect").hide())}showElemOptions(t){const e=t.closest(".dpt-style-wrapper"),i=t.closest(".dpt-widget-option");t.prop("checked")?i.parent().find(".dpt-widget-option, .dpt-tabs-container").show():i.siblings(".dpt-widget-option, .dpt-tabs-container").hide(),this.updateStyleSup(e)}updateStyleSup(t){var e=t.find("input.spcheckbox").first().attr("data-id");if(e){var i=t.find("input.spcheckbox:checked");if(i.length){var s=i.map((function(){return this.value})).get().join(",");jQuery("#"+e).val(s).trigger("change")}else jQuery("#"+e).val("").trigger("change")}}tabFunctionality(t){const e=t.attr("data-id"),i=t.closest(".dpt-tabs").find(".dpt-tab-content"),s=i.find('[data-attr="'+e+'"]');t.siblings(".dpt-tab-index-item").removeClass("active-tab"),t.addClass("active-tab"),i.find(".dpt-tab-content-item").hide(),s.show()}},s=class{constructor(){this.events()}events(){const t=this,e=jQuery("#widgets-right, #elementor-editor-wrapper, #widgets-editor");jQuery((function(){t.colorPicker(e.find(".widget-content"))})),e.on("click",".dpt-style-toggle",(function(){t.colorPicker(jQuery(this).closest(".widget-content"))}))}colorPicker(t){const e={change:function(t,e){setTimeout((function(){jQuery(t.target).trigger("change")}),60)}};t.find(".dpt-color-picker").not('[id*="__i__"]').wpColorPicker(e)}};jQuery((function(){new i,new s}))})();